---
title: Flashing the Rootfs Image
hide_table_of_contents: true
---

### Prerequisites

1. `uuu` tool on your host machine.
2. **Prepare the rootfs bundle:**
   Make sure you have the following files available in the same folder as the flashing files on the host machine: - `debian-v2.auto` (this is the configuration file for the flashing process). - `flash.bin` (the flash binary file). - `debian-image-rootfs.tar.gz` (the root filesystem image to flash).
3. Male to Male USB cable

---

### Installing the Flash Utility

The Mecha Comet relies on the `uuu` (Universal Update) utility provided by NXP for the IMX8M Mini processor. This utility is used for flashing firmware and root filesystem images to devices in fastboot mode.

Follow the steps below to install the `uuu` utility on your host machine.

### Linux

1. If Running Ubutnu LTS / Debian

   Install the `uuu` utility using the following command:

   ```bash
   sudo apt-get install uuu
   ```

2. Use Precompiled Binaries for any linux distro
   
   Download the precompiled binaries from the [official GitHub page](https://github.com/nxp-imx/mfgtools/releases).

### MacOS

1.  Using home brew
    
    Install the `uuu` utility using the following command:
        ```bash
        brew install uuu
        ```
2.  Use Precompiled Binaries for mac
    
    For Intel Macs, download from the [official GitHub page](https://github.com/nxp-imx/mfgtools/releases/download/uuu_1.5.201/uuu_mac_x86).
    
    For M1 Macs, download from the [official GitHub page](https://github.com/nxp-imx/mfgtools/releases/download/uuu_1.5.201/uuu_mac_arm)

### Windows

1. Download exe from [official GitHub page](https://github.com/nxp-imx/mfgtools/releases/download/uuu_1.5.201/uuu.exe).

Now that you have `uuu` installed, lets start preparing the flash image.

---

## Steps to Flash the Image Bundle

### 1.**Put the device into fastboot mode:**

    Locate the switch provided on the back of your Mecha comet device and toggle it to enter fastboot mode.


<img
  className="img-rounded"
  src="/assets/advanced/building-debian-rootfs/mecha-comet-toggle-switch.jpg"
  alt="mecha-comet-toggle-switch"
  style={{ maxWidth: "80%", height: "auto" }}
/>

### 2. **Connect the device to your machine:** Use a USB cable to connect the Mecha
comet device to your host machine.
<img
  className="img-rounded"
  src="/assets/advanced/building-debian-rootfs/mecha-comet-male-cable.jpg"
  alt="mecha-comet-male-cable."
  style={{ maxWidth: "80%", height: "auto" }}
/>

### 3. **Ensure the necessary files are in place:** Make sure the rootfs bundle (`debian-image-rootfs.tar.gz`)
and the `debian-v2.auto` file are in the same directory as the flashing files.

### 4. **Flash the image:** Run the following command on host machine to flash the device:
```bash sudo uuu -v -b debian-v2.auto flash.bin debian-image-rootfs.tar.gz ``` This
command uses the `uuu` utility to flash the `flash.bin` file and the root filesystem
image (`debian-image-rootfs.tar.gz`) to the device in fastboot mode.
<img
  className="img-rounded"
  src="/assets/advanced/building-debian-rootfs/mecha-comet-flashing.jpg"
  alt="mecha-comet-flashing"
  style={{ maxWidth: "80%", height: "auto" }}
/>

### Final Notes

- The flashing process will begin once the command is executed, and it will use the `debian-v2.auto` configuration file for the process.
- Monitor the terminal output to ensure that the flashing completes successfully. If there are any errors during the flashing, they will be displayed in the terminal.
