---
title: Setting up pyenv
hide_table_of_contents: True
---

import S from "@site/components/Steps/";

This guide will help you set up `pyenv` on your Mecha Comet. We are told that Python developers love it üòç.

`pyenv` is a lightweight, flexible tool for managing multiple Python versions. It lets you -

- Easily switch between Python versions
- Create and manage isolated Python environments for different projects
- Avoid conflicts between system Python and custom-installed Python versions

## Installing pyenv

<S>
    <S.Step>
        <S.Details>
          List all available python versions using the command below.

          ```bash
          $ sudo apt update
          $ sudo apt curl git
          ```
        </S.Details>
    </S.Step>
    <S.Step>
        <S.Details>
          Run the below command to install `pyenv`

          ```bash
          $ curl https://pyenv.run | bash
          ```
        </S.Details>
    </S.Step>
    <S.Step>
        <S.Details>
          Now lets configure the default shell to include `pyenv` in the `PATH`. Add the following lines to your shell configuration file (e.g., `~/.bashrc`, `~/.zshrc`):

          ```bash
          # Assuming your shell is bash
          $ nano ~/.bashrc
          ```

          Add the following lines at the end of the file.

          ```bash
          # ~/.bashrc
          ...
          export PYENV_ROOT="$HOME/.pyenv"
          command -v pyenv >/dev/null || export PATH="$PYENV_ROOT/bin:$PATH"
          eval "$(pyenv init -)"
          eval "$(pyenv virtualenv-init -)"
          ```
        </S.Details>
    </S.Step>
    <S.Step>
      <S.Details>
        Restart your shell for the changes to take effect -

        ```bash
        $ exec "$SHELL"
        ```
      </S.Details>
    </S.Step>
    <S.Step>
      <S.Details>
        To confirm that `pyenv` is installed correctly, run the below command.

        ```bash
        $ pyenv --version
        ```
      </S.Details>
    </S.Step>
</S>

## Setting up a project to test pyenv

Follow the quick guide below to test `pyenv` by setting up a test project at a certain python version.

<S>
  <S.Step>
      <S.Details>
        List all available Python versions using the command below and lets install a specific version, for example `3.11.0`.

        ```bash
        $ pyenv install --list
        $ pyenv install 3.11.0
        ```
      </S.Details>
  </S.Step>
  <S.Step>
      <S.Details>
        Create a project directory and set Python version for the project.

        ```bash
        $ mkdir my_project
        $ cd my_project
        ```
      </S.Details>
  </S.Step>
  <S.Step>
      <S.Details>
        Now to create a virtual environment for your project

        ```bash
        $ pyenv virtualenv 3.11.0 my_env
        ```

        To activate the environment`

        ```bash
        $ pyenv activate my_env
        ```

        You should see the command prompt change to reflect the environment name `my_env`. You are now all set!

        :::tip
          In a new terminal when you resume your work, you will only need to run the above command that activates the virtual environment.
        :::
       </S.Details>
  </S.Step>
  <S.Step>
    <S.Details>
      Now lets confirm if python is running at this version in the virtual environment.
      
      In the same folder, create a new main.py
      ```bash
      $ nano main.py
      ```

      Add the following code that prints the python version.
      ```python
      import sys
      print(sys.version)
      ```

      Now lets run this program, while in an activate virtual environment`
      ```bash
      $ python main.py
      3.11.0 (main, Feb 16, 18:14:09) [GCC 11.4.0]
      ```

      You have successfully configured and tested `pyenv` and `virtualenv` now!
    </S.Details>
  </S.Step>
</S>

## Some useful commands

Here are some common commands that you will need at some point when using `pyenv`.

**List all available Python versions**
```bash
$ pyenv install --list
```

**Install a specific Python version**
```bash
$ pyenv install 3.11.4
```

**Set a global Python version**
```bash
$ pyenv global 3.11.4
```

**Set a local Python version for a project**
```bash
$ pyenv local 3.10.8
```

**View the current Python version**
```bash
$ pyenv version
```

**List all versions installed**
```bash
$ pyenv versions
```

